[gd_scene load_steps=14 format=3 uid="uid://ckmgswvs1e823"]

[ext_resource type="Script" uid="uid://4ti5j7baxtjl" path="res://vhs_trails_effect/vhs_trails_effect.gd" id="1_ia1lp"]
[ext_resource type="Texture2D" uid="uid://debe3ex7lxlt8" path="res://emit_test.png" id="2_sasra"]

[sub_resource type="Environment" id="Environment_coq8p"]
background_mode = 1
tonemap_mode = 3
glow_enabled = true

[sub_resource type="CameraAttributesPractical" id="CameraAttributesPractical_ia1lp"]
exposure_multiplier = 0.8
auto_exposure_enabled = true
auto_exposure_speed = 2.0
auto_exposure_min_sensitivity = 500.0

[sub_resource type="CompositorEffect" id="CompositorEffect_2nij2"]
resource_local_to_scene = false
resource_name = ""
enabled = true
effect_callback_type = 4
needs_motion_vectors = false
needs_normal_roughness = false
script = ExtResource("1_ia1lp")
trail_persistence = 0.95
trail_intensity = 0.05
trail_decay = 1.0
luminance_threshold = 0.01
blend_mode = 0
metadata/_custom_type_script = "uid://4ti5j7baxtjl"

[sub_resource type="Compositor" id="Compositor_7cbxl"]
compositor_effects = Array[CompositorEffect]([SubResource("CompositorEffect_2nij2")])

[sub_resource type="BoxMesh" id="BoxMesh_njel3"]
size = Vector3(8, 0.1, 8)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_vr1i5"]
albedo_color = Color(0.601223, 0.601223, 0.601223, 1)

[sub_resource type="BoxMesh" id="BoxMesh_8pr8v"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_buypi"]
albedo_color = Color(0.501407, 0.501406, 0.501406, 1)
emission_enabled = true
emission = Color(0.662745, 0, 0, 1)
emission_energy_multiplier = 20.0
emission_operator = 1
emission_texture = ExtResource("2_sasra")
uv1_scale = Vector3(2, 2, 2)
uv1_triplanar = true

[sub_resource type="Animation" id="Animation_ia1lp"]
resource_name = "rotate"
length = 3.0
loop_mode = 1
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cube:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 3),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(6.28319, 6.28319, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Cube:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0, 1.5, 3),
"transitions": PackedFloat32Array(1, 1, 1),
"update": 0,
"values": [Vector3(-2, 0, 0), Vector3(2, 0, 0), Vector3(-2, 0, 0)]
}

[sub_resource type="Animation" id="Animation_sasra"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("Cube:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}
tracks/1/type = "value"
tracks/1/imported = false
tracks/1/enabled = true
tracks/1/path = NodePath("Cube:position")
tracks/1/interp = 1
tracks/1/loop_wrap = true
tracks/1/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(-2, 0, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_coq8p"]
_data = {
&"RESET": SubResource("Animation_sasra"),
&"rotate": SubResource("Animation_ia1lp")
}

[node name="TestScene" type="Node3D"]

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_coq8p")
camera_attributes = SubResource("CameraAttributesPractical_ia1lp")
compositor = SubResource("Compositor_7cbxl")

[node name="Floor" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -1.5888, 0)
mesh = SubResource("BoxMesh_njel3")
surface_material_override/0 = SubResource("StandardMaterial3D_vr1i5")

[node name="Cube" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2, 0, 0)
mesh = SubResource("BoxMesh_8pr8v")
surface_material_override/0 = SubResource("StandardMaterial3D_buypi")

[node name="AnimationPlayer" type="AnimationPlayer" parent="Cube"]
root_node = NodePath("../..")
libraries = {
&"": SubResource("AnimationLibrary_coq8p")
}
autoplay = "rotate"

[node name="SpotLight3D" type="SpotLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, 1, 0, -1, -4.37114e-08, 0, 4, 0)
light_color = Color(0.72549, 0.552941, 1, 1)
light_energy = 2.0
shadow_enabled = true
shadow_opacity = 0.75
shadow_blur = 8.0
spot_range = 50.0

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.965926, 0.258819, 0, -0.258819, 0.965926, 0, 0.783926, 3.76222)
fov = 60.0
